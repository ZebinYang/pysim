

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pysim.splines &mdash; pysim  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Modules" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pysim
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">pysim.splines</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pysim.sim">pysim.sim</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pysim.simboost">pysim.simboost</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pysim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">Modules</a> &raquo;</li>
        
      <li>pysim.splines</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/ZebinYang/pysim/blob/master/docs/source/apidoc.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-splines.aspline">
<span id="pysim-splines"></span><h1>pysim.splines<a class="headerlink" href="#module-splines.aspline" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="splines.aspline.ASplineRegressor">
<em class="property">class </em><code class="sig-prename descclassname">splines.aspline.</code><code class="sig-name descname">ASplineRegressor</code><span class="sig-paren">(</span><em class="sig-param">knot_num=20</em>, <em class="sig-param">knot_dist='uniform'</em>, <em class="sig-param">reg_gamma=0.1</em>, <em class="sig-param">xmin=-1</em>, <em class="sig-param">xmax=1</em>, <em class="sig-param">degree=2</em>, <em class="sig-param">epsilon=1e-05</em>, <em class="sig-param">threshold=0.99</em>, <em class="sig-param">maxiter=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>ASpline regression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knot_num</strong> (<em>int</em><em>, </em><em>optional. default=20</em>) – the number of knots</p></li>
<li><p><strong>knot_dist</strong> (<em>str</em><em>, </em><em>optional. default=&quot;uniform&quot;</em>) – <p>the distribution of knots</p>
<p>”uniform”: uniformly over the domain</p>
<p>”quantile”: uniform quantiles of the given input data</p>
</p></li>
<li><p><strong>reg_gamma</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – the roughness penalty strength of the spline algorithm,  range from 0 to <span class="math notranslate nohighlight">\(+\infty\)</span></p></li>
<li><p><strong>degree</strong> (<em>int</em><em>, </em><em>optional. default=2</em>) – the order of the spline</p></li>
<li><p><strong>xmin</strong> (<em>float</em><em>, </em><em>optional. default=-1</em>) – the min boundary of the input</p></li>
<li><p><strong>xmax</strong> (<em>float</em><em>, </em><em>optional. default=1</em>) – the max boundary of the input</p></li>
<li><p><strong>epsilon</strong> (<em>float</em><em>, </em><em>optional. default=0.00001</em>) – the epsilon for fitting ASpline</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>optional. default=0.99</em>) – the threshold for fitting ASpline</p></li>
<li><p><strong>maxiter</strong> (<em>float</em><em>, </em><em>optional. default=0.99</em>) – the max iteration for fitting ASpline</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="splines.aspline.ASplineRegressor._create_basis">
<code class="sig-name descname">_create_basis</code><span class="sig-paren">(</span><em class="sig-param">inputs</em>, <em class="sig-param">p</em>, <em class="sig-param">knot_vector</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor._create_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>method to create b-spline basis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>p</strong> (<em>int</em>) – order of basis</p></li>
<li><p><strong>knot_vector</strong> (<em>list</em>) – the list of knots</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor._diff_matrix">
<code class="sig-name descname">_diff_matrix</code><span class="sig-paren">(</span><em class="sig-param">order</em>, <em class="sig-param">knot_num</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor._diff_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>method to calculate the diff matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em>) – the order of diff</p></li>
<li><p><strong>knot_num</strong> (<em>int</em>) – the number of knots</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor._estimate_density">
<code class="sig-name descname">_estimate_density</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor._estimate_density" title="Permalink to this definition">¶</a></dt>
<dd><p>method to estimate the density of input data
:param x: containing the input dataset
:type x: array-like of shape (n_samples, n_features)</p>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor._get_param_names">
<em class="property">classmethod </em><code class="sig-name descname">_get_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor._get_param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameter names for the estimator</p>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor._validate_hyperparameters">
<code class="sig-name descname">_validate_hyperparameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor._validate_hyperparameters" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate model parameters</p>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor._validate_input">
<code class="sig-name descname">_validate_input</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineRegressor._validate_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineRegressor._validate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor.decision_function">
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor.decision_function" title="Permalink to this definition">¶</a></dt>
<dd><p>output f(x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor.diff">
<code class="sig-name descname">diff</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">order=1</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>method to calculate derivatives of the fitted adaptive spline to the input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>order</strong> (<em>int</em>) – order of derivative</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p>This function evaluates the derivative of the fitted ASpline w.r.t. the inputs, which is adopted from <a class="reference external" href="https://github.com/johntfoster/bspline/blob/master/bspline/bspline.py">https://github.com/johntfoster/bspline/blob/master/bspline/bspline.py</a>.</p>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineRegressor.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>fit the adaptive spline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self : Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor.get_loss">
<code class="sig-name descname">get_loss</code><span class="sig-paren">(</span><em class="sig-param">label</em>, <em class="sig-param">pred</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineRegressor.get_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineRegressor.get_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>method to calculate the MSE loss</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>pred</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the MSE loss</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param">deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mapping of string to any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineRegressor.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>output f(x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coefficient of determination R^2 of the prediction.</p>
<p>The coefficient R^2 is defined as (1 - u/v), where u is the residual
sum of squares ((y_true - y_pred) ** 2).sum() and v is the total
sum of squares ((y_true - y_true.mean()) ** 2).sum().
The best possible score is 1.0 and it can be negative (because the
model can be arbitrarily worse). A constant model that always
predicts the expected value of y, disregarding the input features,
would get a R^2 score of 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples. For some estimators this may be a
precomputed kernel matrix or a list of generic objects instead,
shape = (n_samples, n_samples_fitted),
where n_samples_fitted is the number of
samples used in the fitting for the estimator.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True values for X.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – R^2 of self.predict(X) wrt. y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The R2 score used when calling <code class="docutils literal notranslate"><span class="pre">score</span></code> on a regressor will use
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code> from version 0.23 to keep consistent
with <code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code>. This will influence the
<code class="docutils literal notranslate"><span class="pre">score</span></code> method of all the multioutput regressors (except for
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiOutputRegressor</span></code>). To specify the
default value manually and avoid the warning, please either call
<code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code> directly or make a custom scorer with
<code class="xref py py-func docutils literal notranslate"><span class="pre">make_scorer()</span></code> (the built-in scorer <code class="docutils literal notranslate"><span class="pre">'r2'</span></code> uses
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<em>dict</em>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineRegressor.visualize">
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineRegressor.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the fitted shape function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="splines.aspline.ASplineClassifier">
<em class="property">class </em><code class="sig-prename descclassname">splines.aspline.</code><code class="sig-name descname">ASplineClassifier</code><span class="sig-paren">(</span><em class="sig-param">knot_num=20</em>, <em class="sig-param">knot_dist='uniform'</em>, <em class="sig-param">reg_gamma=0.1</em>, <em class="sig-param">xmin=-1</em>, <em class="sig-param">xmax=1</em>, <em class="sig-param">degree=2</em>, <em class="sig-param">epsilon=1e-05</em>, <em class="sig-param">threshold=0.99</em>, <em class="sig-param">maxiter=10</em>, <em class="sig-param">maxiter_irls=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>ASpline classification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knot_num</strong> (<em>int</em><em>, </em><em>optional. default=20</em>) – the number of knots</p></li>
<li><p><strong>knot_dist</strong> (<em>str</em><em>, </em><em>optional. default=&quot;uniform&quot;</em>) – <p>the distribution of knots</p>
<p>”uniform”: uniformly over the domain</p>
<p>”quantile”: uniform quantiles of the given input data</p>
</p></li>
<li><p><strong>reg_gamma</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – the roughness penalty strength of the spline algorithm,  range from 0 to <span class="math notranslate nohighlight">\(+\infty\)</span></p></li>
<li><p><strong>degree</strong> (<em>int</em><em>, </em><em>optional. default=2</em>) – the order of the spline</p></li>
<li><p><strong>xmin</strong> (<em>float</em><em>, </em><em>optional. default=-1</em>) – the min boundary of the input</p></li>
<li><p><strong>xmax</strong> (<em>float</em><em>, </em><em>optional. default=1</em>) – the max boundary of the input</p></li>
<li><p><strong>epsilon</strong> (<em>float</em><em>, </em><em>optional. default=0.00001</em>) – the epsilon for fitting ASpline</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>optional. default=0.99</em>) – the threshold for fitting ASpline</p></li>
<li><p><strong>maxiter</strong> (<em>float</em><em>, </em><em>optional. default=0.99</em>) – the max iteration for fitting ASpline</p></li>
<li><p><strong>maxiter_irls</strong> (<em>int</em><em>, </em><em>optional. default=10</em>) – the max iteration for irls algorithm</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="splines.aspline.ASplineClassifier._create_basis">
<code class="sig-name descname">_create_basis</code><span class="sig-paren">(</span><em class="sig-param">inputs</em>, <em class="sig-param">p</em>, <em class="sig-param">knot_vector</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier._create_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>method to create b-spline basis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>p</strong> (<em>int</em>) – order of basis</p></li>
<li><p><strong>knot_vector</strong> (<em>list</em>) – the list of knots</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier._diff_matrix">
<code class="sig-name descname">_diff_matrix</code><span class="sig-paren">(</span><em class="sig-param">order</em>, <em class="sig-param">knot_num</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier._diff_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>method to calculate the diff matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em>) – the order of diff</p></li>
<li><p><strong>knot_num</strong> (<em>int</em>) – the number of knots</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier._estimate_density">
<code class="sig-name descname">_estimate_density</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier._estimate_density" title="Permalink to this definition">¶</a></dt>
<dd><p>method to estimate the density of input data
:param x: containing the input dataset
:type x: array-like of shape (n_samples, n_features)</p>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier._get_param_names">
<em class="property">classmethod </em><code class="sig-name descname">_get_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier._get_param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameter names for the estimator</p>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier._inv_link">
<em class="property">static </em><code class="sig-name descname">_inv_link</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineClassifier._inv_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineClassifier._inv_link" title="Permalink to this definition">¶</a></dt>
<dd><p>method to evaluate the inverse link function of given input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing the value after inverse link transformation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier._link">
<em class="property">static </em><code class="sig-name descname">_link</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineClassifier._link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineClassifier._link" title="Permalink to this definition">¶</a></dt>
<dd><p>method to evaluate the link function of given input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing the value after link transformation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier._validate_hyperparameters">
<code class="sig-name descname">_validate_hyperparameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier._validate_hyperparameters" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate model parameters</p>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier._validate_input">
<code class="sig-name descname">_validate_input</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineClassifier._validate_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineClassifier._validate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier.decision_function">
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier.decision_function" title="Permalink to this definition">¶</a></dt>
<dd><p>output f(x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier.diff">
<code class="sig-name descname">diff</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">order=1</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>method to calculate derivatives of the fitted adaptive spline to the input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>order</strong> (<em>int</em>) – order of derivative</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p>This function evaluates the derivative of the fitted ASpline w.r.t. the inputs, which is adopted from <a class="reference external" href="https://github.com/johntfoster/bspline/blob/master/bspline/bspline.py">https://github.com/johntfoster/bspline/blob/master/bspline/bspline.py</a>.</p>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineClassifier.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>fit the adaptive spline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>fitted ASplineClassifier object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier.get_loss">
<code class="sig-name descname">get_loss</code><span class="sig-paren">(</span><em class="sig-param">label</em>, <em class="sig-param">pred</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineClassifier.get_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineClassifier.get_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>method to calculate the cross entropy loss</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>pred</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the cross entropy loss</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param">deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mapping of string to any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineClassifier.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>output binary prediction for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing binary prediction</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier.predict_proba">
<code class="sig-name descname">predict_proba</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/aspline.html#ASplineClassifier.predict_proba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.aspline.ASplineClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>output probability prediction for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing probability prediction</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the mean accuracy on the given test data and labels.</p>
<p>In multi-label classification, this is the subset accuracy
which is a harsh metric since you require for each sample that
each label set be correctly predicted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True labels for X.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – Mean accuracy of self.predict(X) wrt. y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<em>dict</em>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.aspline.ASplineClassifier.visualize">
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.aspline.ASplineClassifier.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the fitted shape function</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-splines.smspline"></span><dl class="class">
<dt id="splines.smspline.SMSplineRegressor">
<em class="property">class </em><code class="sig-prename descclassname">splines.smspline.</code><code class="sig-name descname">SMSplineRegressor</code><span class="sig-paren">(</span><em class="sig-param">knot_num=20</em>, <em class="sig-param">knot_dist='uniform'</em>, <em class="sig-param">reg_gamma=0.1</em>, <em class="sig-param">xmin=-1</em>, <em class="sig-param">xmax=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/smspline.html#SMSplineRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.smspline.SMSplineRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for Smoothing Spline regression.</p>
<p>Details:
1. This is an API for the well-known R package <cite>bigsplines</cite>, and we call the function bigssa through rpy2 interface.
2. During prediction, the data which is outside of the given <cite>xmin</cite> and <cite>xmax</cite> will be clipped to the boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knot_num</strong> (<em>int</em><em>, </em><em>optional. default=20</em>) – the number of knots</p></li>
<li><p><strong>knot_dist</strong> (<em>str</em><em>, </em><em>optional. default=&quot;uniform&quot;</em>) – <p>the distribution of knots</p>
<p>”uniform”: uniformly over the domain</p>
<p>”quantile”: uniform quantiles of the given input data</p>
</p></li>
<li><p><strong>reg_gamma</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – the roughness penalty strength of the spline algorithm, range from 0 to 1</p></li>
<li><p><strong>xmin</strong> (<em>float</em><em>, </em><em>optional. default=-1</em>) – the min boundary of the input</p></li>
<li><p><strong>xmax</strong> (<em>float</em><em>, </em><em>optional. default=1</em>) – the max boundary of the input</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="splines.smspline.SMSplineRegressor._estimate_density">
<code class="sig-name descname">_estimate_density</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.smspline.SMSplineRegressor._estimate_density" title="Permalink to this definition">¶</a></dt>
<dd><p>method to estimate the density of input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor._get_param_names">
<em class="property">classmethod </em><code class="sig-name descname">_get_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.smspline.SMSplineRegressor._get_param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameter names for the estimator</p>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor._validate_hyperparameters">
<code class="sig-name descname">_validate_hyperparameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.smspline.SMSplineRegressor._validate_hyperparameters" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate model parameters</p>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor._validate_input">
<code class="sig-name descname">_validate_input</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/smspline.html#SMSplineRegressor._validate_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.smspline.SMSplineRegressor._validate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor.decision_function">
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.smspline.SMSplineRegressor.decision_function" title="Permalink to this definition">¶</a></dt>
<dd><p>output f(x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor.diff">
<code class="sig-name descname">diff</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">order=1</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.smspline.SMSplineRegressor.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>method to calculate derivatives of the fitted adaptive spline to the input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>order</strong> (<em>int</em>) – order of derivative</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/smspline.html#SMSplineRegressor.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.smspline.SMSplineRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>fit the smoothing spline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self : Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor.get_loss">
<code class="sig-name descname">get_loss</code><span class="sig-paren">(</span><em class="sig-param">label</em>, <em class="sig-param">pred</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/smspline.html#SMSplineRegressor.get_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.smspline.SMSplineRegressor.get_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>method to calculate the cross entropy loss</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>pred</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the cross entropy loss</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param">deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.smspline.SMSplineRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mapping of string to any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/smspline.html#SMSplineRegressor.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.smspline.SMSplineRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>output f(x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.smspline.SMSplineRegressor.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coefficient of determination R^2 of the prediction.</p>
<p>The coefficient R^2 is defined as (1 - u/v), where u is the residual
sum of squares ((y_true - y_pred) ** 2).sum() and v is the total
sum of squares ((y_true - y_true.mean()) ** 2).sum().
The best possible score is 1.0 and it can be negative (because the
model can be arbitrarily worse). A constant model that always
predicts the expected value of y, disregarding the input features,
would get a R^2 score of 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples. For some estimators this may be a
precomputed kernel matrix or a list of generic objects instead,
shape = (n_samples, n_samples_fitted),
where n_samples_fitted is the number of
samples used in the fitting for the estimator.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True values for X.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – R^2 of self.predict(X) wrt. y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The R2 score used when calling <code class="docutils literal notranslate"><span class="pre">score</span></code> on a regressor will use
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code> from version 0.23 to keep consistent
with <code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code>. This will influence the
<code class="docutils literal notranslate"><span class="pre">score</span></code> method of all the multioutput regressors (except for
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiOutputRegressor</span></code>). To specify the
default value manually and avoid the warning, please either call
<code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code> directly or make a custom scorer with
<code class="xref py py-func docutils literal notranslate"><span class="pre">make_scorer()</span></code> (the built-in scorer <code class="docutils literal notranslate"><span class="pre">'r2'</span></code> uses
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.smspline.SMSplineRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<em>dict</em>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.smspline.SMSplineRegressor.visualize">
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.smspline.SMSplineRegressor.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the fitted shape function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">splines.smspline.</code><code class="sig-name descname">SMSplineRegressor</code><span class="sig-paren">(</span><em class="sig-param">knot_num=20</em>, <em class="sig-param">knot_dist='uniform'</em>, <em class="sig-param">reg_gamma=0.1</em>, <em class="sig-param">xmin=-1</em>, <em class="sig-param">xmax=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/smspline.html#SMSplineRegressor"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class for Smoothing Spline regression.</p>
<p>Details:
1. This is an API for the well-known R package <cite>bigsplines</cite>, and we call the function bigssa through rpy2 interface.
2. During prediction, the data which is outside of the given <cite>xmin</cite> and <cite>xmax</cite> will be clipped to the boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knot_num</strong> (<em>int</em><em>, </em><em>optional. default=20</em>) – the number of knots</p></li>
<li><p><strong>knot_dist</strong> (<em>str</em><em>, </em><em>optional. default=&quot;uniform&quot;</em>) – <p>the distribution of knots</p>
<p>”uniform”: uniformly over the domain</p>
<p>”quantile”: uniform quantiles of the given input data</p>
</p></li>
<li><p><strong>reg_gamma</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – the roughness penalty strength of the spline algorithm, range from 0 to 1</p></li>
<li><p><strong>xmin</strong> (<em>float</em><em>, </em><em>optional. default=-1</em>) – the min boundary of the input</p></li>
<li><p><strong>xmax</strong> (<em>float</em><em>, </em><em>optional. default=1</em>) – the max boundary of the input</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">_estimate_density</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span></dt>
<dd><p>method to estimate the density of input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">_get_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Get parameter names for the estimator</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_validate_hyperparameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>method to validate model parameters</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_validate_input</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/smspline.html#SMSplineRegressor._validate_input"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>method to validate data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span></dt>
<dd><p>output f(x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">diff</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">order=1</em><span class="sig-paren">)</span></dt>
<dd><p>method to calculate derivatives of the fitted adaptive spline to the input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>order</strong> (<em>int</em>) – order of derivative</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/smspline.html#SMSplineRegressor.fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>fit the smoothing spline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self : Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_loss</code><span class="sig-paren">(</span><em class="sig-param">label</em>, <em class="sig-param">pred</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/smspline.html#SMSplineRegressor.get_loss"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>method to calculate the cross entropy loss</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>pred</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the cross entropy loss</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param">deep=True</em><span class="sig-paren">)</span></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mapping of string to any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/smspline.html#SMSplineRegressor.predict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>output f(x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span></dt>
<dd><p>Return the coefficient of determination R^2 of the prediction.</p>
<p>The coefficient R^2 is defined as (1 - u/v), where u is the residual
sum of squares ((y_true - y_pred) ** 2).sum() and v is the total
sum of squares ((y_true - y_true.mean()) ** 2).sum().
The best possible score is 1.0 and it can be negative (because the
model can be arbitrarily worse). A constant model that always
predicts the expected value of y, disregarding the input features,
would get a R^2 score of 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples. For some estimators this may be a
precomputed kernel matrix or a list of generic objects instead,
shape = (n_samples, n_samples_fitted),
where n_samples_fitted is the number of
samples used in the fitting for the estimator.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True values for X.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – R^2 of self.predict(X) wrt. y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The R2 score used when calling <code class="docutils literal notranslate"><span class="pre">score</span></code> on a regressor will use
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code> from version 0.23 to keep consistent
with <code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code>. This will influence the
<code class="docutils literal notranslate"><span class="pre">score</span></code> method of all the multioutput regressors (except for
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiOutputRegressor</span></code>). To specify the
default value manually and avoid the warning, please either call
<code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code> directly or make a custom scorer with
<code class="xref py py-func docutils literal notranslate"><span class="pre">make_scorer()</span></code> (the built-in scorer <code class="docutils literal notranslate"><span class="pre">'r2'</span></code> uses
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code>).</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">**params</em><span class="sig-paren">)</span></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<em>dict</em>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>draw the fitted shape function</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-splines.pspline"></span><dl class="class">
<dt id="splines.pspline.PSplineRegressor">
<em class="property">class </em><code class="sig-prename descclassname">splines.pspline.</code><code class="sig-name descname">PSplineRegressor</code><span class="sig-paren">(</span><em class="sig-param">knot_num=20</em>, <em class="sig-param">reg_gamma=0.1</em>, <em class="sig-param">xmin=-1</em>, <em class="sig-param">xmax=1</em>, <em class="sig-param">degree=2</em>, <em class="sig-param">constraint=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>PSpline regression.</p>
<p>Details:
1. This is an API for the python package <cite>pygam</cite>, and we use the p-spline by treating it as an univariate GAM.
2. During prediction, the data which is outside of the given <cite>xmin</cite> and <cite>xmax</cite> will be clipped to the boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knot_num</strong> (<em>int</em><em>, </em><em>optional. default=20</em>) – the number of knots</p></li>
<li><p><strong>reg_gamma</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – the roughness penalty strength of the spline algorithm, range from 0 to <span class="math notranslate nohighlight">\(+\infty\)</span></p></li>
<li><p><strong>degree</strong> (<em>int</em><em>, </em><em>optional. default=2</em>) – the order of the spline</p></li>
<li><p><strong>xmin</strong> (<em>float</em><em>, </em><em>optional. default=-1</em>) – the min boundary of the input</p></li>
<li><p><strong>xmax</strong> (<em>float</em><em>, </em><em>optional. default=1</em>) – the max boundary of the input</p></li>
<li><p><strong>constraint</strong> (<em>None</em><em> or </em><em>str</em><em>, </em><em>optional. default=None</em>) – constraint=None means no constrant and constraint=”mono” for monotonic constraint</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="splines.pspline.PSplineRegressor._estimate_density">
<code class="sig-name descname">_estimate_density</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineRegressor._estimate_density" title="Permalink to this definition">¶</a></dt>
<dd><p>method to estimate the density of input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor._get_param_names">
<em class="property">classmethod </em><code class="sig-name descname">_get_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineRegressor._get_param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameter names for the estimator</p>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor._validate_hyperparameters">
<code class="sig-name descname">_validate_hyperparameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineRegressor._validate_hyperparameters" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate model parameters</p>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor._validate_input">
<code class="sig-name descname">_validate_input</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineRegressor._validate_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineRegressor._validate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor.decision_function">
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineRegressor.decision_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineRegressor.decision_function" title="Permalink to this definition">¶</a></dt>
<dd><p>output f(x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineRegressor.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>fit the p-spline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self : Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor.get_loss">
<code class="sig-name descname">get_loss</code><span class="sig-paren">(</span><em class="sig-param">label</em>, <em class="sig-param">pred</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineRegressor.get_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineRegressor.get_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>method to calculate the MSE loss</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>pred</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the MSE loss</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param">deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mapping of string to any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineRegressor.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>output f(x) for given samples
:param x: containing the input dataset
:type x: array-like of shape (n_samples, 1)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>containing f(x)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineRegressor.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coefficient of determination R^2 of the prediction.</p>
<p>The coefficient R^2 is defined as (1 - u/v), where u is the residual
sum of squares ((y_true - y_pred) ** 2).sum() and v is the total
sum of squares ((y_true - y_true.mean()) ** 2).sum().
The best possible score is 1.0 and it can be negative (because the
model can be arbitrarily worse). A constant model that always
predicts the expected value of y, disregarding the input features,
would get a R^2 score of 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples. For some estimators this may be a
precomputed kernel matrix or a list of generic objects instead,
shape = (n_samples, n_samples_fitted),
where n_samples_fitted is the number of
samples used in the fitting for the estimator.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True values for X.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – R^2 of self.predict(X) wrt. y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The R2 score used when calling <code class="docutils literal notranslate"><span class="pre">score</span></code> on a regressor will use
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code> from version 0.23 to keep consistent
with <code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code>. This will influence the
<code class="docutils literal notranslate"><span class="pre">score</span></code> method of all the multioutput regressors (except for
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiOutputRegressor</span></code>). To specify the
default value manually and avoid the warning, please either call
<code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code> directly or make a custom scorer with
<code class="xref py py-func docutils literal notranslate"><span class="pre">make_scorer()</span></code> (the built-in scorer <code class="docutils literal notranslate"><span class="pre">'r2'</span></code> uses
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<em>dict</em>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineRegressor.visualize">
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineRegressor.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the fitted shape function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="splines.pspline.PSplineClassifier">
<em class="property">class </em><code class="sig-prename descclassname">splines.pspline.</code><code class="sig-name descname">PSplineClassifier</code><span class="sig-paren">(</span><em class="sig-param">knot_num=20</em>, <em class="sig-param">reg_gamma=0.1</em>, <em class="sig-param">xmin=-1</em>, <em class="sig-param">xmax=1</em>, <em class="sig-param">degree=2</em>, <em class="sig-param">constraint=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>PSpline classification.</p>
<p>Details:
1. This is an API for the python package <cite>pygam</cite>, and we use the p-spline by treating it as an univariate GAM.
2. During prediction, the data which is outside of the given <cite>xmin</cite> and <cite>xmax</cite> will be clipped to the boundary.
3. reg_gamma will be increased if the current value is too small</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knot_num</strong> (<em>int</em><em>, </em><em>optional. default=20</em>) – the number of knots</p></li>
<li><p><strong>reg_gamma</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – the roughness penalty strength of the spline algorithm, range from 0 to <span class="math notranslate nohighlight">\(+\infty\)</span></p></li>
<li><p><strong>degree</strong> (<em>int</em><em>, </em><em>optional. default=2</em>) – the order of the spline</p></li>
<li><p><strong>xmin</strong> (<em>float</em><em>, </em><em>optional. default=-1</em>) – the min boundary of the input</p></li>
<li><p><strong>xmax</strong> (<em>float</em><em>, </em><em>optional. default=1</em>) – the max boundary of the input</p></li>
<li><p><strong>constraint</strong> (<em>None</em><em> or </em><em>str</em><em>, </em><em>optional. default=None</em>) – constraint=None means no constrant and constraint=”mono” for monotonic constraint</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="splines.pspline.PSplineClassifier._estimate_density">
<code class="sig-name descname">_estimate_density</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineClassifier._estimate_density" title="Permalink to this definition">¶</a></dt>
<dd><p>method to estimate the density of input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier._get_param_names">
<em class="property">classmethod </em><code class="sig-name descname">_get_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineClassifier._get_param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameter names for the estimator</p>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier._validate_hyperparameters">
<code class="sig-name descname">_validate_hyperparameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineClassifier._validate_hyperparameters" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate model parameters</p>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier._validate_input">
<code class="sig-name descname">_validate_input</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineClassifier._validate_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineClassifier._validate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier.decision_function">
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineClassifier.decision_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineClassifier.decision_function" title="Permalink to this definition">¶</a></dt>
<dd><p>output f(x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineClassifier.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>fit the p-spline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self : Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier.get_loss">
<code class="sig-name descname">get_loss</code><span class="sig-paren">(</span><em class="sig-param">label</em>, <em class="sig-param">pred</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineClassifier.get_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineClassifier.get_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>method to calculate the cross entropy loss</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>pred</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the cross entropy loss</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param">deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineClassifier.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mapping of string to any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineClassifier.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>output binary prediction for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing binary prediction</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier.predict_proba">
<code class="sig-name descname">predict_proba</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/splines/pspline.html#PSplineClassifier.predict_proba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#splines.pspline.PSplineClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>output probability prediction for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing probability prediction</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineClassifier.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the mean accuracy on the given test data and labels.</p>
<p>In multi-label classification, this is the subset accuracy
which is a harsh metric since you require for each sample that
each label set be correctly predicted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True labels for X.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – Mean accuracy of self.predict(X) wrt. y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineClassifier.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<em>dict</em>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="splines.pspline.PSplineClassifier.visualize">
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#splines.pspline.PSplineClassifier.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the fitted shape function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pysim.sim">
<span id="pysim-sim"></span><h1>pysim.sim<a class="headerlink" href="#module-pysim.sim" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pysim.sim.SimRegressor">
<em class="property">class </em><code class="sig-prename descclassname">pysim.sim.</code><code class="sig-name descname">SimRegressor</code><span class="sig-paren">(</span><em class="sig-param">method='first_order'</em>, <em class="sig-param">spline='smoothing_spline'</em>, <em class="sig-param">reg_lambda=0.1</em>, <em class="sig-param">reg_gamma=0.1</em>, <em class="sig-param">knot_num=20</em>, <em class="sig-param">knot_dist='uniform'</em>, <em class="sig-param">degree=2</em>, <em class="sig-param">random_state=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/sim.html#SimRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysim.sim.SimRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Sim regression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional. default=&quot;first_order&quot;</em>) – <p>The base method for estimating the projection coefficients in sparse SIM</p>
<p>”first_order”: First-order Stein’s Identity via sparse PCA solver</p>
<p>”second_order”: Second-order Stein’s Identity via sparse PCA solver</p>
<p>”first_order_thres”: First-order Stein’s Identity via hard thresholding (A simplified verison)</p>
<p>”ols”: Least squares estimation subject to hard thresholding</p>
</p></li>
<li><p><strong>spline</strong> (<em>str</em><em>, </em><em>optional. default=&quot;smoothing_spline&quot;</em>) – <p>The type of spline for fitting the curve</p>
<p>”smoothing_spline”: Smoothing spline</p>
<p>”p_spline”: P-spline</p>
<p>”mono_p_spline”: P-spline with monotonic constraint</p>
<p>”a_spline”: Adaptive B-spline</p>
</p></li>
<li><p><strong>knot_dist</strong> (<em>str</em><em>, </em><em>optional. default=&quot;uniform&quot;</em>) – <p>Distribution of knots</p>
<p>”uniform”: uniformly over the domain</p>
<p>”quantile”: uniform quantiles of the given input data (not available when spline=”p_spline” or “mono_p_spline”)</p>
</p></li>
<li><p><strong>reg_lambda</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – Sparsity strength of projection indice, ranges from 0 to 1</p></li>
<li><p><strong>reg_gamma</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – <p>Roughness penalty strength of the spline algorithm</p>
<p>For spline=”smoothing_spline”, it ranges from 0 to 1</p>
<p>For spline=”p_spline”,”mono_p_spline” or “a_spline”, it ranges from 0 to <span class="math notranslate nohighlight">\(+\infty\)</span></p>
</p></li>
<li><p><strong>degree</strong> (<em>int</em><em>, </em><em>optional. default=2</em>) – The order of the spline, not used for spline=”smoothing_spline”</p></li>
<li><p><strong>knot_num</strong> (<em>int</em><em>, </em><em>optional. default=20</em>) – Number of knots</p></li>
<li><p><strong>random_state</strong> (<em>int</em><em>, </em><em>optional. default=0</em>) – Random seed</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pysim.sim.SimRegressor._estimate_shape">
<code class="sig-name descname">_estimate_shape</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">xmin</em>, <em class="sig-param">xmax</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/sim.html#SimRegressor._estimate_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysim.sim.SimRegressor._estimate_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>estimate the ridge function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
<li><p><strong>xmin</strong> (<em>float</em>) – the minimum value of beta ^ x</p></li>
<li><p><strong>xmax</strong> (<em>float</em>) – the maximum value of beta ^ x</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – containing sample weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor._first_order">
<code class="sig-name descname">_first_order</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor._first_order" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the projection indice using the first order stein’s identity using Sparse PCA solver via fps package in R</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the normalized projection inidce</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_features, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor._first_order_thres">
<code class="sig-name descname">_first_order_thres</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor._first_order_thres" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the projection indice using the first order stein’s identity subject to hard thresholding</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the normalized projection inidce</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_features, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor._get_param_names">
<em class="property">classmethod </em><code class="sig-name descname">_get_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor._get_param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameter names for the estimator</p>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor._ols">
<code class="sig-name descname">_ols</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/sim.html#SimRegressor._ols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysim.sim.SimRegressor._ols" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the least squares estimation for the projection indices subject to hard thresholding</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the normalized projection inidce</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_features, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor._second_order">
<code class="sig-name descname">_second_order</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor._second_order" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the projection indice using the second order stein’s identity using Sparse PCA solver via fps package in R</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the normalized projection inidce</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_features, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor._validate_hyperparameters">
<code class="sig-name descname">_validate_hyperparameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor._validate_hyperparameters" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate model parameters</p>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor._validate_input">
<code class="sig-name descname">_validate_input</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/sim.html#SimRegressor._validate_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysim.sim.SimRegressor._validate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor._validate_sample_weight">
<code class="sig-name descname">_validate_sample_weight</code><span class="sig-paren">(</span><em class="sig-param">n_samples</em>, <em class="sig-param">sample_weight</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor._validate_sample_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate sample weight</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_samples</strong> (<em>int</em>) – the number of samples</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor.decision_function">
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor.decision_function" title="Permalink to this definition">¶</a></dt>
<dd><p>output f(beta^T x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(beta^T x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>fit the Sim model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self : Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor.fit_inner_update">
<code class="sig-name descname">fit_inner_update</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em>, <em class="sig-param">method='adam'</em>, <em class="sig-param">val_ratio=0.2</em>, <em class="sig-param">tol=0.0001</em>, <em class="sig-param">max_inner_iter=3</em>, <em class="sig-param">n_inner_iter_no_change=3</em>, <em class="sig-param">max_epoches=100</em>, <em class="sig-param">n_epoch_no_change=5</em>, <em class="sig-param">batch_size=100</em>, <em class="sig-param">learning_rate=0.001</em>, <em class="sig-param">beta_1=0.9</em>, <em class="sig-param">beta_2=0.999</em>, <em class="sig-param">stratify=True</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor.fit_inner_update" title="Permalink to this definition">¶</a></dt>
<dd><p>fine tune the fitted Sim model using inner update method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
<li><p><strong>method</strong> (<em>std</em><em>, </em><em>optional</em><em>, </em><em>default=&quot;adam&quot;</em>) – the inner update method, including “adam” and “bfgs”</p></li>
<li><p><strong>val_ratio</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.2</em>) – the split ratio for validation set</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.0001</em>) – the tolerance for early stopping</p></li>
<li><p><strong>max_inner_iter</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the maximal number of inner update iteration</p></li>
<li><p><strong>n_inner_iter_no_change</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the tolerance of non-improving inner iterations</p></li>
<li><p><strong>max_epoches</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=100</em>) – the maximal number of epoches for “adam” optimizer</p></li>
<li><p><strong>n_epoch_no_change</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=5</em>) – the tolerance of non-improving epoches for adam optimizer</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=100</em>) – the batch_size for adam optimizer</p></li>
<li><p><strong>learning_rate</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=1e-3</em>) – the learning rate for adam optimizer</p></li>
<li><p><strong>beta_1</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.9</em>) – the beta_1 parameter for adam optimizer</p></li>
<li><p><strong>beta_2</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.999</em>) – the beta_1 parameter for adam optimizer</p></li>
<li><p><strong>stratify</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=True</em>) – whether to stratify the target variable when splitting the validation set</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to show the training history</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor.fit_inner_update_adam">
<code class="sig-name descname">fit_inner_update_adam</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em>, <em class="sig-param">val_ratio=0.2</em>, <em class="sig-param">tol=0.0001</em>, <em class="sig-param">max_inner_iter=3</em>, <em class="sig-param">n_inner_iter_no_change=3</em>, <em class="sig-param">max_epoches=100</em>, <em class="sig-param">n_epoch_no_change=5</em>, <em class="sig-param">batch_size=100</em>, <em class="sig-param">learning_rate=0.001</em>, <em class="sig-param">beta_1=0.9</em>, <em class="sig-param">beta_2=0.999</em>, <em class="sig-param">stratify=True</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor.fit_inner_update_adam" title="Permalink to this definition">¶</a></dt>
<dd><p>fine tune the fitted Sim model using inner update method (adam)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
<li><p><strong>val_ratio</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.2</em>) – the split ratio for validation set</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.0001</em>) – the tolerance for early stopping</p></li>
<li><p><strong>max_inner_iter</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the maximal number of inner update iteration</p></li>
<li><p><strong>n_inner_iter_no_change</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the tolerance of non-improving inner iterations</p></li>
<li><p><strong>max_epoches</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=100</em>) – the maximal number of epoches for “adam” optimizer</p></li>
<li><p><strong>n_epoch_no_change</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=5</em>) – the tolerance of non-improving epoches for adam optimizer</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=100</em>) – the batch_size for adam optimizer</p></li>
<li><p><strong>learning_rate</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=1e-3</em>) – the learning rate for adam optimizer</p></li>
<li><p><strong>beta_1</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.9</em>) – the beta_1 parameter for adam optimizer</p></li>
<li><p><strong>beta_2</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.999</em>) – the beta_1 parameter for adam optimizer</p></li>
<li><p><strong>stratify</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=True</em>) – whether to stratify the target variable when splitting the validation set</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to show the training history</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor.fit_inner_update_bfgs">
<code class="sig-name descname">fit_inner_update_bfgs</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em>, <em class="sig-param">val_ratio=0.2</em>, <em class="sig-param">tol=0.0001</em>, <em class="sig-param">max_inner_iter=3</em>, <em class="sig-param">n_inner_iter_no_change=3</em>, <em class="sig-param">max_epoches=100</em>, <em class="sig-param">stratify=True</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor.fit_inner_update_bfgs" title="Permalink to this definition">¶</a></dt>
<dd><p>fine tune the fitted Sim model using inner update method (bfgs)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
<li><p><strong>val_ratio</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.2</em>) – the split ratio for validation set</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.0001</em>) – the tolerance for early stopping</p></li>
<li><p><strong>max_inner_iter</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the maximal number of inner update iteration</p></li>
<li><p><strong>n_inner_iter_no_change</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the tolerance of non-improving inner iterations</p></li>
<li><p><strong>max_epoches</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=100</em>) – the maximal number of epoches for “bfgs” optimizer</p></li>
<li><p><strong>stratify</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=True</em>) – whether to stratify the target variable when splitting the validation set</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to show the training history</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param">deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mapping of string to any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/sim.html#SimRegressor.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysim.sim.SimRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>output f(beta^T x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(beta^T x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coefficient of determination R^2 of the prediction.</p>
<p>The coefficient R^2 is defined as (1 - u/v), where u is the residual
sum of squares ((y_true - y_pred) ** 2).sum() and v is the total
sum of squares ((y_true - y_true.mean()) ** 2).sum().
The best possible score is 1.0 and it can be negative (because the
model can be arbitrarily worse). A constant model that always
predicts the expected value of y, disregarding the input features,
would get a R^2 score of 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples. For some estimators this may be a
precomputed kernel matrix or a list of generic objects instead,
shape = (n_samples, n_samples_fitted),
where n_samples_fitted is the number of
samples used in the fitting for the estimator.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True values for X.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – R^2 of self.predict(X) wrt. y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The R2 score used when calling <code class="docutils literal notranslate"><span class="pre">score</span></code> on a regressor will use
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code> from version 0.23 to keep consistent
with <code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code>. This will influence the
<code class="docutils literal notranslate"><span class="pre">score</span></code> method of all the multioutput regressors (except for
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiOutputRegressor</span></code>). To specify the
default value manually and avoid the warning, please either call
<code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code> directly or make a custom scorer with
<code class="xref py py-func docutils literal notranslate"><span class="pre">make_scorer()</span></code> (the built-in scorer <code class="docutils literal notranslate"><span class="pre">'r2'</span></code> uses
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<em>dict</em>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.sim.SimRegressor.visualize">
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysim.sim.SimRegressor.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the fitted projection indices and ridge function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pysim.sim.</code><code class="sig-name descname">SimRegressor</code><span class="sig-paren">(</span><em class="sig-param">method='first_order'</em>, <em class="sig-param">spline='smoothing_spline'</em>, <em class="sig-param">reg_lambda=0.1</em>, <em class="sig-param">reg_gamma=0.1</em>, <em class="sig-param">knot_num=20</em>, <em class="sig-param">knot_dist='uniform'</em>, <em class="sig-param">degree=2</em>, <em class="sig-param">random_state=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/sim.html#SimRegressor"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sim regression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional. default=&quot;first_order&quot;</em>) – <p>The base method for estimating the projection coefficients in sparse SIM</p>
<p>”first_order”: First-order Stein’s Identity via sparse PCA solver</p>
<p>”second_order”: Second-order Stein’s Identity via sparse PCA solver</p>
<p>”first_order_thres”: First-order Stein’s Identity via hard thresholding (A simplified verison)</p>
<p>”ols”: Least squares estimation subject to hard thresholding</p>
</p></li>
<li><p><strong>spline</strong> (<em>str</em><em>, </em><em>optional. default=&quot;smoothing_spline&quot;</em>) – <p>The type of spline for fitting the curve</p>
<p>”smoothing_spline”: Smoothing spline</p>
<p>”p_spline”: P-spline</p>
<p>”mono_p_spline”: P-spline with monotonic constraint</p>
<p>”a_spline”: Adaptive B-spline</p>
</p></li>
<li><p><strong>knot_dist</strong> (<em>str</em><em>, </em><em>optional. default=&quot;uniform&quot;</em>) – <p>Distribution of knots</p>
<p>”uniform”: uniformly over the domain</p>
<p>”quantile”: uniform quantiles of the given input data (not available when spline=”p_spline” or “mono_p_spline”)</p>
</p></li>
<li><p><strong>reg_lambda</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – Sparsity strength of projection indice, ranges from 0 to 1</p></li>
<li><p><strong>reg_gamma</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – <p>Roughness penalty strength of the spline algorithm</p>
<p>For spline=”smoothing_spline”, it ranges from 0 to 1</p>
<p>For spline=”p_spline”,”mono_p_spline” or “a_spline”, it ranges from 0 to <span class="math notranslate nohighlight">\(+\infty\)</span></p>
</p></li>
<li><p><strong>degree</strong> (<em>int</em><em>, </em><em>optional. default=2</em>) – The order of the spline, not used for spline=”smoothing_spline”</p></li>
<li><p><strong>knot_num</strong> (<em>int</em><em>, </em><em>optional. default=20</em>) – Number of knots</p></li>
<li><p><strong>random_state</strong> (<em>int</em><em>, </em><em>optional. default=0</em>) – Random seed</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">_estimate_shape</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">xmin</em>, <em class="sig-param">xmax</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/sim.html#SimRegressor._estimate_shape"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>estimate the ridge function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
<li><p><strong>xmin</strong> (<em>float</em>) – the minimum value of beta ^ x</p></li>
<li><p><strong>xmax</strong> (<em>float</em>) – the maximum value of beta ^ x</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – containing sample weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_first_order</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em><span class="sig-paren">)</span></dt>
<dd><p>calculate the projection indice using the first order stein’s identity using Sparse PCA solver via fps package in R</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the normalized projection inidce</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_features, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_first_order_thres</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em><span class="sig-paren">)</span></dt>
<dd><p>calculate the projection indice using the first order stein’s identity subject to hard thresholding</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the normalized projection inidce</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_features, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">_get_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Get parameter names for the estimator</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_ols</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/sim.html#SimRegressor._ols"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>calculate the least squares estimation for the projection indices subject to hard thresholding</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the normalized projection inidce</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_features, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_second_order</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em><span class="sig-paren">)</span></dt>
<dd><p>calculate the projection indice using the second order stein’s identity using Sparse PCA solver via fps package in R</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the normalized projection inidce</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_features, 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_validate_hyperparameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>method to validate model parameters</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_validate_input</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/sim.html#SimRegressor._validate_input"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>method to validate data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing the output dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_validate_sample_weight</code><span class="sig-paren">(</span><em class="sig-param">n_samples</em>, <em class="sig-param">sample_weight</em><span class="sig-paren">)</span></dt>
<dd><p>method to validate sample weight</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_samples</strong> (<em>int</em>) – the number of samples</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span></dt>
<dd><p>output f(beta^T x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(beta^T x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em><span class="sig-paren">)</span></dt>
<dd><p>fit the Sim model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self : Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fit_inner_update</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em>, <em class="sig-param">method='adam'</em>, <em class="sig-param">val_ratio=0.2</em>, <em class="sig-param">tol=0.0001</em>, <em class="sig-param">max_inner_iter=3</em>, <em class="sig-param">n_inner_iter_no_change=3</em>, <em class="sig-param">max_epoches=100</em>, <em class="sig-param">n_epoch_no_change=5</em>, <em class="sig-param">batch_size=100</em>, <em class="sig-param">learning_rate=0.001</em>, <em class="sig-param">beta_1=0.9</em>, <em class="sig-param">beta_2=0.999</em>, <em class="sig-param">stratify=True</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span></dt>
<dd><p>fine tune the fitted Sim model using inner update method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
<li><p><strong>method</strong> (<em>std</em><em>, </em><em>optional</em><em>, </em><em>default=&quot;adam&quot;</em>) – the inner update method, including “adam” and “bfgs”</p></li>
<li><p><strong>val_ratio</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.2</em>) – the split ratio for validation set</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.0001</em>) – the tolerance for early stopping</p></li>
<li><p><strong>max_inner_iter</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the maximal number of inner update iteration</p></li>
<li><p><strong>n_inner_iter_no_change</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the tolerance of non-improving inner iterations</p></li>
<li><p><strong>max_epoches</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=100</em>) – the maximal number of epoches for “adam” optimizer</p></li>
<li><p><strong>n_epoch_no_change</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=5</em>) – the tolerance of non-improving epoches for adam optimizer</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=100</em>) – the batch_size for adam optimizer</p></li>
<li><p><strong>learning_rate</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=1e-3</em>) – the learning rate for adam optimizer</p></li>
<li><p><strong>beta_1</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.9</em>) – the beta_1 parameter for adam optimizer</p></li>
<li><p><strong>beta_2</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.999</em>) – the beta_1 parameter for adam optimizer</p></li>
<li><p><strong>stratify</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=True</em>) – whether to stratify the target variable when splitting the validation set</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to show the training history</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fit_inner_update_adam</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em>, <em class="sig-param">val_ratio=0.2</em>, <em class="sig-param">tol=0.0001</em>, <em class="sig-param">max_inner_iter=3</em>, <em class="sig-param">n_inner_iter_no_change=3</em>, <em class="sig-param">max_epoches=100</em>, <em class="sig-param">n_epoch_no_change=5</em>, <em class="sig-param">batch_size=100</em>, <em class="sig-param">learning_rate=0.001</em>, <em class="sig-param">beta_1=0.9</em>, <em class="sig-param">beta_2=0.999</em>, <em class="sig-param">stratify=True</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span></dt>
<dd><p>fine tune the fitted Sim model using inner update method (adam)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
<li><p><strong>val_ratio</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.2</em>) – the split ratio for validation set</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.0001</em>) – the tolerance for early stopping</p></li>
<li><p><strong>max_inner_iter</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the maximal number of inner update iteration</p></li>
<li><p><strong>n_inner_iter_no_change</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the tolerance of non-improving inner iterations</p></li>
<li><p><strong>max_epoches</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=100</em>) – the maximal number of epoches for “adam” optimizer</p></li>
<li><p><strong>n_epoch_no_change</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=5</em>) – the tolerance of non-improving epoches for adam optimizer</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=100</em>) – the batch_size for adam optimizer</p></li>
<li><p><strong>learning_rate</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=1e-3</em>) – the learning rate for adam optimizer</p></li>
<li><p><strong>beta_1</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.9</em>) – the beta_1 parameter for adam optimizer</p></li>
<li><p><strong>beta_2</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.999</em>) – the beta_1 parameter for adam optimizer</p></li>
<li><p><strong>stratify</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=True</em>) – whether to stratify the target variable when splitting the validation set</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to show the training history</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fit_inner_update_bfgs</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em>, <em class="sig-param">proj_mat=None</em>, <em class="sig-param">val_ratio=0.2</em>, <em class="sig-param">tol=0.0001</em>, <em class="sig-param">max_inner_iter=3</em>, <em class="sig-param">n_inner_iter_no_change=3</em>, <em class="sig-param">max_epoches=100</em>, <em class="sig-param">stratify=True</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span></dt>
<dd><p>fine tune the fitted Sim model using inner update method (bfgs)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
<li><p><strong>proj_mat</strong> (<em>array-like of shape</em><em> (</em><em>n_features</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – to project the projection indice for enhancing orthogonality</p></li>
<li><p><strong>val_ratio</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.2</em>) – the split ratio for validation set</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.0001</em>) – the tolerance for early stopping</p></li>
<li><p><strong>max_inner_iter</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the maximal number of inner update iteration</p></li>
<li><p><strong>n_inner_iter_no_change</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em>) – the tolerance of non-improving inner iterations</p></li>
<li><p><strong>max_epoches</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=100</em>) – the maximal number of epoches for “bfgs” optimizer</p></li>
<li><p><strong>stratify</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=True</em>) – whether to stratify the target variable when splitting the validation set</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to show the training history</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param">deep=True</em><span class="sig-paren">)</span></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mapping of string to any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/sim.html#SimRegressor.predict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>output f(beta^T x) for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f(beta^T x)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span></dt>
<dd><p>Return the coefficient of determination R^2 of the prediction.</p>
<p>The coefficient R^2 is defined as (1 - u/v), where u is the residual
sum of squares ((y_true - y_pred) ** 2).sum() and v is the total
sum of squares ((y_true - y_true.mean()) ** 2).sum().
The best possible score is 1.0 and it can be negative (because the
model can be arbitrarily worse). A constant model that always
predicts the expected value of y, disregarding the input features,
would get a R^2 score of 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples. For some estimators this may be a
precomputed kernel matrix or a list of generic objects instead,
shape = (n_samples, n_samples_fitted),
where n_samples_fitted is the number of
samples used in the fitting for the estimator.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True values for X.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – R^2 of self.predict(X) wrt. y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The R2 score used when calling <code class="docutils literal notranslate"><span class="pre">score</span></code> on a regressor will use
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code> from version 0.23 to keep consistent
with <code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code>. This will influence the
<code class="docutils literal notranslate"><span class="pre">score</span></code> method of all the multioutput regressors (except for
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiOutputRegressor</span></code>). To specify the
default value manually and avoid the warning, please either call
<code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code> directly or make a custom scorer with
<code class="xref py py-func docutils literal notranslate"><span class="pre">make_scorer()</span></code> (the built-in scorer <code class="docutils literal notranslate"><span class="pre">'r2'</span></code> uses
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code>).</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">**params</em><span class="sig-paren">)</span></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<em>dict</em>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>draw the fitted projection indices and ridge function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pysim.simboost">
<span id="pysim-simboost"></span><h1>pysim.simboost<a class="headerlink" href="#module-pysim.simboost" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pysim.simboost.SimBoostRegressor">
<em class="property">class </em><code class="sig-prename descclassname">pysim.simboost.</code><code class="sig-name descname">SimBoostRegressor</code><span class="sig-paren">(</span><em class="sig-param">n_estimators</em>, <em class="sig-param">stein_method='first_order'</em>, <em class="sig-param">spline='a_spline'</em>, <em class="sig-param">knot_dist='uniform'</em>, <em class="sig-param">learning_rate=1.0</em>, <em class="sig-param">reg_lambda=0.1</em>, <em class="sig-param">reg_gamma=0.1</em>, <em class="sig-param">degree=2</em>, <em class="sig-param">knot_num=20</em>, <em class="sig-param">ortho_shrink=1</em>, <em class="sig-param">loss_threshold=0.01</em>, <em class="sig-param">inner_update=True</em>, <em class="sig-param">meta_info=None</em>, <em class="sig-param">pruning=True</em>, <em class="sig-param">val_ratio=0.2</em>, <em class="sig-param">random_state=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/simboost.html#SimBoostRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysim.simboost.SimBoostRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for sim boost regression (residual boosting).</p>
<p>Training Steps:</p>
<ol class="arabic simple">
<li><p>Preprocess all categorical features with one-hot encodeing, and then build a linear model between all the dummy variables and the response. (_fit_dummy)</p></li>
<li><p>Calculate the pseudo residual using logit boost. (_fit)</p></li>
<li><p>Calculate the orthogonal enhancement for the next SIM Regressor (ortho_shrink, only used when learning_rate=1.0). (_fit)</p></li>
<li><p>Fit a SIM Regressor using all numerical features and the pseudo residual. (_fit)</p></li>
<li><p>Recalculate the pseudo residual subject to learning_rate. (_fit)</p></li>
<li><p>Repeat steps 2 - 5 until n_estimators is reached. (_fit)</p></li>
<li><p>Rank the fitted SIM Regressors according to variation they explained. (_pruning)</p></li>
<li><p>Sequentially add the ranked SIM Regressors (starting from top ranked) and evaluate the validation performance. (_pruning)</p></li>
<li><p>Select the best number of SIM Regressors according to the validation performance. (_pruning)</p></li>
<li><p>Interpretation: the pruning procedure (validation_performance), global model (visualize), local interpretation (local_visualize and ice_visualize).</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_estimators</strong> (<em>int</em>) – The maximum number of estimators for boosing</p></li>
<li><p><strong>stein_method</strong> (<em>str</em><em>, </em><em>optional. default=&quot;first_order&quot;</em>) – <p>The base method for estimating the projection coefficients in sparse SIM</p>
<p>”first_order”: First-order Stein’s Identity via sparse PCA solver</p>
<p>”second_order”: Second-order Stein’s Identity via sparse PCA solver</p>
<p>”first_order_thres”: First-order Stein’s Identity via hard thresholding (A simplified verison)</p>
<p>”ols”: Least squares estimation subject to hard thresholding.</p>
</p></li>
<li><p><strong>spline</strong> (<em>str</em><em>, </em><em>optional. default=&quot;smoothing_spline&quot;</em>) – <p>The type of spline for fitting the curve</p>
<p>”smoothing_spline”: Smoothing spline</p>
<p>”p_spline”: P-spline</p>
<p>”mono_p_spline”: P-spline with monotonic constraint</p>
<p>”a_spline”: Adaptive B-spline</p>
</p></li>
<li><p><strong>knot_dist</strong> (<em>str</em><em>, </em><em>optional. default=&quot;uniform&quot;</em>) – <p>Distribution of knots</p>
<p>”uniform”: uniformly over the domain</p>
<p>”quantile”: uniform quantiles of the given input data (not available when spline=”p_spline” or “mono_p_spline”)</p>
</p></li>
<li><p><strong>learning_rate</strong> (<em>float</em><em>, </em><em>optional. default=1.0</em>) – The learning rate controling the shrinkage when performing boosting, ranges from 0 to 1</p></li>
<li><p><strong>reg_lambda</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – The sparsity strength of projection inidce, ranges from 0 to 1</p></li>
<li><p><strong>reg_gamma</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – <p>The roughness penalty strength of the spline algorithm</p>
<p>For spline=”smoothing_spline”, it ranges from 0 to 1</p>
<p>For spline=”p_spline”,”mono_p_spline” or “a_spline”, it ranges from 0 to <span class="math notranslate nohighlight">\(+\infty\)</span></p>
</p></li>
<li><p><strong>degree</strong> (<em>int</em><em>, </em><em>optional. default=2</em>) – The order of the spline, not used for spline=”smoothing_spline”</p></li>
<li><p><strong>knot_num</strong> (<em>int</em><em>, </em><em>optional. default=20</em>) – Number of knots</p></li>
<li><p><strong>ortho_shrink</strong> (<em>float</em><em>, </em><em>optional. default=1</em>) – Shrinkage strength for orthogonal enhancement, ranges from 0 to 1, valid when learning_rage=1.0</p></li>
<li><p><strong>loss_threshold</strong> (<em>float</em><em>, </em><em>optional. default=0.01</em>) – This parameter is used for post-hoc pruning, ranges from 0 to 1, only used when pruning=True
To reduce model complexity, we prefer to use fewer base learners, which is as accurate as (1 - loss_threshold) of the best performance)</p></li>
<li><p><strong>inner_update</strong> (<em>None</em><em> or </em><em>str</em><em>, </em><em>optional. default=None</em>) – The inner update method for each base learner</p></li>
<li><p><strong>meta_info</strong> (<em>None</em><em> or </em><em>a dict with features' information. default=None</em>) – <p>Features are classified as:</p>
<dl class="simple">
<dt>continuous:</dt><dd><p>Specify <cite>Type</cite> as <cite>continuous</cite>, and include the keys of <cite>Range</cite> (a list with lower-upper elements pair) and
<cite>Wrapper</cite>, a callable function for wrapping the values</p>
</dd>
<dt>categorical:</dt><dd><p>Specify <cite>Type</cite> as <cite>categorical</cite>, and include the keys of <cite>Mapping</cite> (a list with all the possible categories)</p>
</dd>
</dl>
<p>If None, then all the features will be treated as continuous</p>
</p></li>
<li><p><strong>pruning</strong> (<em>bool. default=True</em>) – Whether to perform pruning for the base sim estimators</p></li>
<li><p><strong>val_ratio</strong> (<em>float</em><em>, </em><em>optional. default=0.2</em>) – The split ratio of validation set, which is used for post-hoc pruning</p></li>
<li><p><strong>random_state</strong> (<em>int</em><em>, </em><em>optional. default=0</em>) – Random seed</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor._fit">
<code class="sig-name descname">_fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/simboost.html#SimBoostRegressor._fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysim.simboost.SimBoostRegressor._fit" title="Permalink to this definition">¶</a></dt>
<dd><p>fit the SimBoost model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor._fit_dummy">
<code class="sig-name descname">_fit_dummy</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor._fit_dummy" title="Permalink to this definition">¶</a></dt>
<dd><p>fit the categorical variables by one-hot encoding and linear models</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor._get_param_names">
<em class="property">classmethod </em><code class="sig-name descname">_get_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor._get_param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameter names for the estimator</p>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor._preprocess_meta_info">
<code class="sig-name descname">_preprocess_meta_info</code><span class="sig-paren">(</span><em class="sig-param">n_features</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor._preprocess_meta_info" title="Permalink to this definition">¶</a></dt>
<dd><p>preprocess the meta info of the dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n_features</strong> (<em>int</em>) – the number of features</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor._pruning">
<code class="sig-name descname">_pruning</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/simboost.html#SimBoostRegressor._pruning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysim.simboost.SimBoostRegressor._pruning" title="Permalink to this definition">¶</a></dt>
<dd><p>prune the base learners that are not importnat</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the output dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor._validate_hyperparameters">
<code class="sig-name descname">_validate_hyperparameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor._validate_hyperparameters" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate model parameters</p>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor._validate_input">
<code class="sig-name descname">_validate_input</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/simboost.html#SimBoostRegressor._validate_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysim.simboost.SimBoostRegressor._validate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate data</p>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor._validate_sample_weight">
<code class="sig-name descname">_validate_sample_weight</code><span class="sig-paren">(</span><em class="sig-param">n_samples</em>, <em class="sig-param">sample_weight</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor._validate_sample_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>method to validate sample weight</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_samples</strong> (<em>int</em>) – the number of samples</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.decision_function">
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.decision_function" title="Permalink to this definition">¶</a></dt>
<dd><p>output f1(beta1^T x) + f2(beta2^T x) + … for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f1(beta1^T x) + f2(beta2^T x) + …</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,),</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.feature_gradient">
<code class="sig-name descname">feature_gradient</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.feature_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate gradients of the fitted model to the input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing the gradient of the input dataset</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like of shape (n_samples, n_features)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>fit the SimBoost model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self : Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param">deep=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mapping of string to any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.ice_visualize">
<code class="sig-name descname">ice_visualize</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">cols_per_row=3</em>, <em class="sig-param">folder='./results/'</em>, <em class="sig-param">name='ice_visualize'</em>, <em class="sig-param">save_png=False</em>, <em class="sig-param">save_eps=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.ice_visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the Individual Conditional Expectation (ICE) plot for the fitted model</p>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.importance_ratios_">
<em class="property">property </em><code class="sig-name descname">importance_ratios_</code><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.importance_ratios_" title="Permalink to this definition">¶</a></dt>
<dd><p>return the estimator importance ratios (the higher, the more important the feature)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the importance ratio of each fitted base learner.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict of selected estimators</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.local_visualize">
<code class="sig-name descname">local_visualize</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y=None</em>, <em class="sig-param">folder='./results/'</em>, <em class="sig-param">name='local_plot'</em>, <em class="sig-param">save_png=False</em>, <em class="sig-param">save_eps=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.local_visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the local interpretation of the fitted model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cols_per_row</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em><em>,</em>) – the number of sim models visualized on each row</p></li>
<li><p><strong>folder</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>defalut=&quot;./results/&quot;</em>) – the folder of the file to be saved</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default=&quot;global_plot&quot;</em>) – the name of the file to be saved</p></li>
<li><p><strong>save_png</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to save the figure in png form</p></li>
<li><p><strong>save_eps</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to save the figure in eps form</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.orthogonality_measure_">
<em class="property">property </em><code class="sig-name descname">orthogonality_measure_</code><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.orthogonality_measure_" title="Permalink to this definition">¶</a></dt>
<dd><p>return the orthogonality measure (the lower, the better)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the orthogonality measure</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/simboost.html#SimBoostRegressor.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>output prediction for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing prediction</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.projection_indices_">
<em class="property">property </em><code class="sig-name descname">projection_indices_</code><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.projection_indices_" title="Permalink to this definition">¶</a></dt>
<dd><p>return the projection indices</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the projection indices</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ndarray of shape (n_features, n_estimators)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coefficient of determination R^2 of the prediction.</p>
<p>The coefficient R^2 is defined as (1 - u/v), where u is the residual
sum of squares ((y_true - y_pred) ** 2).sum() and v is the total
sum of squares ((y_true - y_true.mean()) ** 2).sum().
The best possible score is 1.0 and it can be negative (because the
model can be arbitrarily worse). A constant model that always
predicts the expected value of y, disregarding the input features,
would get a R^2 score of 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples. For some estimators this may be a
precomputed kernel matrix or a list of generic objects instead,
shape = (n_samples, n_samples_fitted),
where n_samples_fitted is the number of
samples used in the fitting for the estimator.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True values for X.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – R^2 of self.predict(X) wrt. y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The R2 score used when calling <code class="docutils literal notranslate"><span class="pre">score</span></code> on a regressor will use
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code> from version 0.23 to keep consistent
with <code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code>. This will influence the
<code class="docutils literal notranslate"><span class="pre">score</span></code> method of all the multioutput regressors (except for
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiOutputRegressor</span></code>). To specify the
default value manually and avoid the warning, please either call
<code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code> directly or make a custom scorer with
<code class="xref py py-func docutils literal notranslate"><span class="pre">make_scorer()</span></code> (the built-in scorer <code class="docutils literal notranslate"><span class="pre">'r2'</span></code> uses
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<em>dict</em>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.validation_performance">
<code class="sig-name descname">validation_performance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.validation_performance" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the validation accuracy (regression and AUC for binary classification) against the number of base learners</p>
</dd></dl>

<dl class="method">
<dt id="pysim.simboost.SimBoostRegressor.visualize">
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><em class="sig-param">cols_per_row=3</em>, <em class="sig-param">folder='./results/'</em>, <em class="sig-param">name='global_plot'</em>, <em class="sig-param">save_png=False</em>, <em class="sig-param">save_eps=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pysim.simboost.SimBoostRegressor.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the global interpretation of the fitted model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cols_per_row</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em><em>,</em>) – the number of sim models visualized on each row</p></li>
<li><p><strong>folder</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>defalut=&quot;./results/&quot;</em>) – the folder of the file to be saved</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default=&quot;global_plot&quot;</em>) – the name of the file to be saved</p></li>
<li><p><strong>save_png</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to save the figure in png form</p></li>
<li><p><strong>save_eps</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to save the figure in eps form</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pysim.simboost.</code><code class="sig-name descname">SimBoostRegressor</code><span class="sig-paren">(</span><em class="sig-param">n_estimators</em>, <em class="sig-param">stein_method='first_order'</em>, <em class="sig-param">spline='a_spline'</em>, <em class="sig-param">knot_dist='uniform'</em>, <em class="sig-param">learning_rate=1.0</em>, <em class="sig-param">reg_lambda=0.1</em>, <em class="sig-param">reg_gamma=0.1</em>, <em class="sig-param">degree=2</em>, <em class="sig-param">knot_num=20</em>, <em class="sig-param">ortho_shrink=1</em>, <em class="sig-param">loss_threshold=0.01</em>, <em class="sig-param">inner_update=True</em>, <em class="sig-param">meta_info=None</em>, <em class="sig-param">pruning=True</em>, <em class="sig-param">val_ratio=0.2</em>, <em class="sig-param">random_state=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/simboost.html#SimBoostRegressor"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class for sim boost regression (residual boosting).</p>
<p>Training Steps:</p>
<ol class="arabic simple">
<li><p>Preprocess all categorical features with one-hot encodeing, and then build a linear model between all the dummy variables and the response. (_fit_dummy)</p></li>
<li><p>Calculate the pseudo residual using logit boost. (_fit)</p></li>
<li><p>Calculate the orthogonal enhancement for the next SIM Regressor (ortho_shrink, only used when learning_rate=1.0). (_fit)</p></li>
<li><p>Fit a SIM Regressor using all numerical features and the pseudo residual. (_fit)</p></li>
<li><p>Recalculate the pseudo residual subject to learning_rate. (_fit)</p></li>
<li><p>Repeat steps 2 - 5 until n_estimators is reached. (_fit)</p></li>
<li><p>Rank the fitted SIM Regressors according to variation they explained. (_pruning)</p></li>
<li><p>Sequentially add the ranked SIM Regressors (starting from top ranked) and evaluate the validation performance. (_pruning)</p></li>
<li><p>Select the best number of SIM Regressors according to the validation performance. (_pruning)</p></li>
<li><p>Interpretation: the pruning procedure (validation_performance), global model (visualize), local interpretation (local_visualize and ice_visualize).</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_estimators</strong> (<em>int</em>) – The maximum number of estimators for boosing</p></li>
<li><p><strong>stein_method</strong> (<em>str</em><em>, </em><em>optional. default=&quot;first_order&quot;</em>) – <p>The base method for estimating the projection coefficients in sparse SIM</p>
<p>”first_order”: First-order Stein’s Identity via sparse PCA solver</p>
<p>”second_order”: Second-order Stein’s Identity via sparse PCA solver</p>
<p>”first_order_thres”: First-order Stein’s Identity via hard thresholding (A simplified verison)</p>
<p>”ols”: Least squares estimation subject to hard thresholding.</p>
</p></li>
<li><p><strong>spline</strong> (<em>str</em><em>, </em><em>optional. default=&quot;smoothing_spline&quot;</em>) – <p>The type of spline for fitting the curve</p>
<p>”smoothing_spline”: Smoothing spline</p>
<p>”p_spline”: P-spline</p>
<p>”mono_p_spline”: P-spline with monotonic constraint</p>
<p>”a_spline”: Adaptive B-spline</p>
</p></li>
<li><p><strong>knot_dist</strong> (<em>str</em><em>, </em><em>optional. default=&quot;uniform&quot;</em>) – <p>Distribution of knots</p>
<p>”uniform”: uniformly over the domain</p>
<p>”quantile”: uniform quantiles of the given input data (not available when spline=”p_spline” or “mono_p_spline”)</p>
</p></li>
<li><p><strong>learning_rate</strong> (<em>float</em><em>, </em><em>optional. default=1.0</em>) – The learning rate controling the shrinkage when performing boosting, ranges from 0 to 1</p></li>
<li><p><strong>reg_lambda</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – The sparsity strength of projection inidce, ranges from 0 to 1</p></li>
<li><p><strong>reg_gamma</strong> (<em>float</em><em>, </em><em>optional. default=0.1</em>) – <p>The roughness penalty strength of the spline algorithm</p>
<p>For spline=”smoothing_spline”, it ranges from 0 to 1</p>
<p>For spline=”p_spline”,”mono_p_spline” or “a_spline”, it ranges from 0 to <span class="math notranslate nohighlight">\(+\infty\)</span></p>
</p></li>
<li><p><strong>degree</strong> (<em>int</em><em>, </em><em>optional. default=2</em>) – The order of the spline, not used for spline=”smoothing_spline”</p></li>
<li><p><strong>knot_num</strong> (<em>int</em><em>, </em><em>optional. default=20</em>) – Number of knots</p></li>
<li><p><strong>ortho_shrink</strong> (<em>float</em><em>, </em><em>optional. default=1</em>) – Shrinkage strength for orthogonal enhancement, ranges from 0 to 1, valid when learning_rage=1.0</p></li>
<li><p><strong>loss_threshold</strong> (<em>float</em><em>, </em><em>optional. default=0.01</em>) – This parameter is used for post-hoc pruning, ranges from 0 to 1, only used when pruning=True
To reduce model complexity, we prefer to use fewer base learners, which is as accurate as (1 - loss_threshold) of the best performance)</p></li>
<li><p><strong>inner_update</strong> (<em>None</em><em> or </em><em>str</em><em>, </em><em>optional. default=None</em>) – The inner update method for each base learner</p></li>
<li><p><strong>meta_info</strong> (<em>None</em><em> or </em><em>a dict with features' information. default=None</em>) – <p>Features are classified as:</p>
<dl class="simple">
<dt>continuous:</dt><dd><p>Specify <cite>Type</cite> as <cite>continuous</cite>, and include the keys of <cite>Range</cite> (a list with lower-upper elements pair) and
<cite>Wrapper</cite>, a callable function for wrapping the values</p>
</dd>
<dt>categorical:</dt><dd><p>Specify <cite>Type</cite> as <cite>categorical</cite>, and include the keys of <cite>Mapping</cite> (a list with all the possible categories)</p>
</dd>
</dl>
<p>If None, then all the features will be treated as continuous</p>
</p></li>
<li><p><strong>pruning</strong> (<em>bool. default=True</em>) – Whether to perform pruning for the base sim estimators</p></li>
<li><p><strong>val_ratio</strong> (<em>float</em><em>, </em><em>optional. default=0.2</em>) – The split ratio of validation set, which is used for post-hoc pruning</p></li>
<li><p><strong>random_state</strong> (<em>int</em><em>, </em><em>optional. default=0</em>) – Random seed</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">_fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/simboost.html#SimBoostRegressor._fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>fit the SimBoost model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_fit_dummy</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight</em><span class="sig-paren">)</span></dt>
<dd><p>fit the categorical variables by one-hot encoding and linear models</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">_get_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Get parameter names for the estimator</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_preprocess_meta_info</code><span class="sig-paren">(</span><em class="sig-param">n_features</em><span class="sig-paren">)</span></dt>
<dd><p>preprocess the meta info of the dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n_features</strong> (<em>int</em>) – the number of features</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_pruning</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/simboost.html#SimBoostRegressor._pruning"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>prune the base learners that are not importnat</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>1</em><em>)</em>) – containing the output dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_validate_hyperparameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>method to validate model parameters</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_validate_input</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/simboost.html#SimBoostRegressor._validate_input"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>method to validate data</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_validate_sample_weight</code><span class="sig-paren">(</span><em class="sig-param">n_samples</em>, <em class="sig-param">sample_weight</em><span class="sig-paren">)</span></dt>
<dd><p>method to validate sample weight</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_samples</strong> (<em>int</em>) – the number of samples</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span></dt>
<dd><p>output f1(beta1^T x) + f2(beta2^T x) + … for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing f1(beta1^T x) + f2(beta2^T x) + …</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,),</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">feature_gradient</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span></dt>
<dd><p>calculate gradients of the fitted model to the input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing the gradient of the input dataset</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like of shape (n_samples, n_features)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span></dt>
<dd><p>fit the SimBoost model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – containing target values</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – containing sample weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self : Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param">deep=True</em><span class="sig-paren">)</span></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mapping of string to any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">ice_visualize</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">cols_per_row=3</em>, <em class="sig-param">folder='./results/'</em>, <em class="sig-param">name='ice_visualize'</em>, <em class="sig-param">save_png=False</em>, <em class="sig-param">save_eps=False</em><span class="sig-paren">)</span></dt>
<dd><p>draw the Individual Conditional Expectation (ICE) plot for the fitted model</p>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">importance_ratios_</code></dt>
<dd><p>return the estimator importance ratios (the higher, the more important the feature)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the importance ratio of each fitted base learner.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict of selected estimators</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">local_visualize</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y=None</em>, <em class="sig-param">folder='./results/'</em>, <em class="sig-param">name='local_plot'</em>, <em class="sig-param">save_png=False</em>, <em class="sig-param">save_eps=False</em><span class="sig-paren">)</span></dt>
<dd><p>draw the local interpretation of the fitted model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cols_per_row</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em><em>,</em>) – the number of sim models visualized on each row</p></li>
<li><p><strong>folder</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>defalut=&quot;./results/&quot;</em>) – the folder of the file to be saved</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default=&quot;global_plot&quot;</em>) – the name of the file to be saved</p></li>
<li><p><strong>save_png</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to save the figure in png form</p></li>
<li><p><strong>save_eps</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to save the figure in eps form</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">orthogonality_measure_</code></dt>
<dd><p>return the orthogonality measure (the lower, the better)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the orthogonality measure</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysim/simboost.html#SimBoostRegressor.predict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>output prediction for given samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – containing the input dataset</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing prediction</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">projection_indices_</code></dt>
<dd><p>return the projection indices</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the projection indices</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ndarray of shape (n_features, n_estimators)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">sample_weight=None</em><span class="sig-paren">)</span></dt>
<dd><p>Return the coefficient of determination R^2 of the prediction.</p>
<p>The coefficient R^2 is defined as (1 - u/v), where u is the residual
sum of squares ((y_true - y_pred) ** 2).sum() and v is the total
sum of squares ((y_true - y_true.mean()) ** 2).sum().
The best possible score is 1.0 and it can be negative (because the
model can be arbitrarily worse). A constant model that always
predicts the expected value of y, disregarding the input features,
would get a R^2 score of 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples. For some estimators this may be a
precomputed kernel matrix or a list of generic objects instead,
shape = (n_samples, n_samples_fitted),
where n_samples_fitted is the number of
samples used in the fitting for the estimator.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True values for X.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – R^2 of self.predict(X) wrt. y.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The R2 score used when calling <code class="docutils literal notranslate"><span class="pre">score</span></code> on a regressor will use
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code> from version 0.23 to keep consistent
with <code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code>. This will influence the
<code class="docutils literal notranslate"><span class="pre">score</span></code> method of all the multioutput regressors (except for
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiOutputRegressor</span></code>). To specify the
default value manually and avoid the warning, please either call
<code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score()</span></code> directly or make a custom scorer with
<code class="xref py py-func docutils literal notranslate"><span class="pre">make_scorer()</span></code> (the built-in scorer <code class="docutils literal notranslate"><span class="pre">'r2'</span></code> uses
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code>).</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param">**params</em><span class="sig-paren">)</span></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s possible to update each
component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<em>dict</em>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">validation_performance</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>draw the validation accuracy (regression and AUC for binary classification) against the number of base learners</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><em class="sig-param">cols_per_row=3</em>, <em class="sig-param">folder='./results/'</em>, <em class="sig-param">name='global_plot'</em>, <em class="sig-param">save_png=False</em>, <em class="sig-param">save_eps=False</em><span class="sig-paren">)</span></dt>
<dd><p>draw the global interpretation of the fitted model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cols_per_row</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=3</em><em>,</em>) – the number of sim models visualized on each row</p></li>
<li><p><strong>folder</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>defalut=&quot;./results/&quot;</em>) – the folder of the file to be saved</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default=&quot;global_plot&quot;</em>) – the name of the file to be saved</p></li>
<li><p><strong>save_png</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to save the figure in png form</p></li>
<li><p><strong>save_eps</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=False</em>) – whether to save the figure in eps form</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="Modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Zebin Yang

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>